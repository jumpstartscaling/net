---
import Layout from '@/layouts/AdminLayout.astro';
import GeoManager from '@/components/admin/content/GeoManager';
import { getDirectusClient, readItems } from '@/lib/directus/client';

const directus = getDirectusClient();
const clusters = await directus.request(readItems('geo_intelligence')).catch(() => []);
---
<Layout title="Geo Clusters">
  <div class="p-8">
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-white mb-2">Geo Intelligence</h1>
      <p class="text-gray-400">Manage your geographic targeting clusters.</p>
    </div>
    <GeoManager client:load initialClusters={clusters} />
  </div>
</Layout>
