---
import Layout from '@/layouts/AdminLayout.astro';
import CartesianManager from '@/components/admin/content/CartesianManager';
import { getDirectusClient, readItems } from '@/lib/directus/client';

const directus = getDirectusClient();
const patterns = await directus.request(readItems('cartesian_patterns')).catch(() => []);
---
<Layout title="Cartesian Patterns">
  <div class="p-8">
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-white mb-2">Cartesian Patterns</h1>
      <p class="text-gray-400">Manage headline and content generation formulas.</p>
    </div>
    <CartesianManager client:load initialPatterns={patterns} />
  </div>
</Layout>
